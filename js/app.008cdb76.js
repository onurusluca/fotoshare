(function(e){function t(t){for(var o,a,i=t[0],s=t[1],l=t[2],u=0,p=[];u<i.length;u++)a=i[u],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);f&&f(t);while(p.length)p.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,a=1;a<n.length;a++){var s=n[a];0!==r[s]&&(o=!1)}o&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={app:0},c=[];function a(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-2d225f3d":"0802de89"}[e]+".js"}function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=r[e]=[t,o]}));t.push(n[2]=o);var c,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=a(e);var l=new Error;c=function(t){s.onerror=s.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+c+")",l.name="ChunkLoadError",l.type=o,l.request=c,n[1](l)}r[e]=void 0}};var u=setTimeout((function(){c({type:"timeout",target:s})}),12e4);s.onerror=s.onload=c,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var f=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"02b0":function(e,t,n){"use strict";n("5bb2")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},2:function(e,t){},2525:function(e,t,n){},3:function(e,t){},4:function(e,t){},"4e9e":function(e,t,n){"use strict";n("2525")},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t),n.d(t,"getFirestoreInstance",(function(){return R}));n("a79d");var o=n("7a23");function r(e,t,n,r,c,a){const i=Object(o["h"])("Home");return Object(o["g"])(),Object(o["c"])(i)}n("ddb0");const c={id:"home"},a=Object(o["f"])("h1",null,[Object(o["f"])("a",{class:"logo",href:"/"},"FotoShare")],-1),i=Object(o["f"])("h3",null,"Upload a Photo",-1),s=Object(o["f"])("p",{style:{color:"red"}}," This is a test app. Please do not share private photos. ",-1),l={key:0},u={key:0},f=Object(o["f"])("div",{class:"b-text"},[Object(o["f"])("p",null,[Object(o["e"])(" Handcrafted with love and care by "),Object(o["f"])("a",{target:"_blank",href:"https://onurusluca.me/"},"Onur Usluca")])],-1);function p(e,t,n,r,p,d){const h=Object(o["h"])("Progress"),b=Object(o["h"])("Image");return Object(o["g"])(),Object(o["c"])("div",c,[a,Object(o["l"])(Object(o["f"])("div",null,[i,Object(o["f"])("input",{class:"btn",type:"button",id:"get-file",value:"Choose a file",onClick:t[1]||(t[1]=(...e)=>d.chooseFile(...e))}),Object(o["f"])("input",{type:"file",id:"my-file",onChange:t[2]||(t[2]=(...e)=>d.prevImg(...e)),accept:"image/*",hidden:""},null,32),s],512),[[o["j"],!p.start&!p.img]]),Object(o["f"])(o["a"],{name:"fade-in"},{default:Object(o["k"])(()=>[p.start?(Object(o["g"])(),Object(o["c"])("div",l,[Object(o["f"])(h,{value:p.uploadValue},null,8,["value"])])):Object(o["d"])("",!0)]),_:1}),Object(o["f"])(o["a"],{name:"fade-in"},{default:Object(o["k"])(()=>[p.img?(Object(o["g"])(),Object(o["c"])("div",u,[Object(o["f"])(b,{src:p.picture},null,8,["src"])])):Object(o["d"])("",!0)]),_:1}),f])}var d=n("2591");const h={id:"image"},b=Object(o["f"])("h2",null,"Upload Successful",-1),g=Object(o["f"])("a",{href:""},null,-1),j=Object(o["f"])("br",null,null,-1),m=Object(o["e"])("Copy The Code "),O={class:"copied"};function v(e,t,n,r,c,a){return Object(o["g"])(),Object(o["c"])("div",h,[b,Object(o["f"])("a",{class:"link",target:"_blank",href:n.src},"Image Link",8,["href"]),g,Object(o["f"])("button",{onClick:t[1]||(t[1]=(...e)=>a.shorter(...e))},"Get Short URL"),j,Object(o["l"])(Object(o["f"])("input",{class:"copy",type:"text",value:c.urlShare,id:"copyCode"},null,8,["value"]),[[o["j"],c.showShort]]),Object(o["l"])(Object(o["f"])("span",{onClick:t[2]||(t[2]=Object(o["m"])((...e)=>a.copyURL(...e),["prevent"]))},[m,Object(o["l"])(Object(o["f"])("p",O,"Code copied!",512),[[o["j"],c.copied]])],512),[[o["j"],c.showShort]]),Object(o["f"])("a",{target:"_blank",href:c.urlShare},[Object(o["f"])("img",{src:n.src,alt:"Uploaded Picture"},null,8,["src"])],8,["href"])])}var y=n("5c6b"),w={name:"Image",props:["src"],data(){return{urlShare:null,showShort:!1,copied:!1}},methods:{shorter(){y.short(this.src,(e,t)=>{this.urlShare=t,console.log(this.urlShare)}),this.showShort=!0},copyURL(){let e=document.querySelector("#copyCode");e.setAttribute("type","text"),e.select();try{var t=document.execCommand("copy"),n=t?"successful":"unsuccessful";console.log(n),this.copied=!0,setTimeout(()=>{this.copied=!1},3e3)}catch(o){alert("Oops, unable to copy")}}}};n("9937");w.render=v;var S=w;const k={id:"progress"},P=Object(o["f"])("p",null,"Uploading... Please wait.",-1);function C(e,t,n,r,c,a){return Object(o["g"])(),Object(o["c"])("div",k,[P,Object(o["f"])("progress",{max:"100",value:n.value},null,8,["value"]),Object(o["f"])("p",null,Object(o["i"])(Math.floor(n.value))+"%",1)])}var U={name:"Progress",props:["value"],components:{},data(){return{}}};n("02b0");U.render=C;var F=U;let _=n("11c1");var x={name:"Home",components:{Progress:F,Image:S},data(){return{selectedFile:null,start:!1,img:!1,picture:null,images:[],uploadValue:0}},methods:{chooseFile(){document.querySelector("#my-file").click()},onFileSelect(e){this.selectedFile=e.target.files[0]},prevImg(){this.uploadValue=0,this.picture=null,this.selectedFile=event.target.files[0],this.onUpload(this.selectedFile)},onUpload(e){console.log(e),this.start=!0;const t=d["a"].storage().ref(` ${this.selectedFile.name} `).put(this.selectedFile);t.on("state_changed",e=>{this.uploadValue=e.bytesTransferred/e.totalBytes*100,console.log(this.uploadValue)},e=>{console.log(e.message+"ERROR!")},()=>{this.start=!1,this.img=!0,t.snapshot.ref.getDownloadURL().then(e=>{this.picture=e})})},async afterComplete(e){var t=_.v1();this.isLoading=!0;try{let a=e;var n={contentType:"image/png"},o=d["a"].storage().ref(),r=o.child(`images/${t}.png`);await r.put(a,n);var c=await r.getDownloadURL();this.images.push({src:c}),this.uploadValue=100}catch(a){console.log(a)}}}};n("4e9e");x.render=p;var I=x,L={name:"App",components:{Home:I}};n("64be");L.render=r;var T=L;async function R(){return d["a"].firestore||await n.e("chunk-2d225f3d").then(n.bind(null,"e71f")),d["a"].firestore()}var A={apiKey:"AIzaSyABmL3Ko7YZKogXTFEJz42iD31KTp4yj5s",authDomain:"foto-share-b7456.firebaseapp.com",databaseURL:"https://foto-share-b7456.firebaseio.com",projectId:"foto-share-b7456",storageBucket:"foto-share-b7456.appspot.com",messagingSenderId:"752423214389",appId:"1:752423214389:web:47d5f5cadedfb41109007c"};d["a"].initializeApp(A),Object(o["b"])(T).mount("#app")},"5bb2":function(e,t,n){},6:function(e,t){},"64be":function(e,t,n){"use strict";n("c894")},7:function(e,t){},8:function(e,t){},"89e0":function(e,t,n){},9:function(e,t){},9937:function(e,t,n){"use strict";n("89e0")},c894:function(e,t,n){}});
//# sourceMappingURL=app.008cdb76.js.map