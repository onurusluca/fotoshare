(function(e){function t(t){for(var r,a,u=t[0],i=t[1],l=t[2],s=0,p=[];s<u.length;s++)a=u[s],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);f&&f(t);while(p.length)p.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,a=1;a<n.length;a++){var i=n[a];0!==o[i]&&(r=!1)}r&&(c.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},o={app:0},c=[];function a(e){return u.p+"js/"+({}[e]||e)+"-legacy."+{"chunk-2d225f3d":"0802de89"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=r);var c,i=document.createElement("script");i.charset="utf-8",i.timeout=120,u.nc&&i.setAttribute("nonce",u.nc),i.src=a(e);var l=new Error;c=function(t){i.onerror=i.onload=null,clearTimeout(s);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+c+")",l.name="ChunkLoadError",l.type=r,l.request=c,n[1](l)}o[e]=void 0}};var s=setTimeout((function(){c({type:"timeout",target:i})}),12e4);i.onerror=i.onload=c,document.head.appendChild(i)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var f=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"02b0":function(e,t,n){"use strict";n("5bb2")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},2:function(e,t){},2525:function(e,t,n){},3:function(e,t){},4:function(e,t){},"4e9e":function(e,t,n){"use strict";n("2525")},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t),n.d(t,"getFirestoreInstance",(function(){return A}));n("d3b7"),n("96cf");var r=n("1da1"),o=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("7a23"));function c(e,t,n,r,c,a){var u=Object(o["h"])("Home");return Object(o["g"])(),Object(o["c"])(u)}var a={id:"home"},u=Object(o["f"])("h1",null,[Object(o["f"])("a",{class:"logo",href:"/"},"FotoShare")],-1),i=Object(o["f"])("h3",null,"Upload a Photo",-1),l=Object(o["f"])("p",{style:{color:"red"}}," This is a test app. Please do not share private photos. ",-1),s={key:0},f={key:0},p=Object(o["f"])("div",{class:"b-text"},[Object(o["f"])("p",null,[Object(o["e"])(" Handcrafted with love and care by "),Object(o["f"])("a",{target:"_blank",href:"https://onurusluca.me/"},"Onur Usluca")])],-1);function d(e,t,n,r,c,d){var b=Object(o["h"])("Progress"),h=Object(o["h"])("Image");return Object(o["g"])(),Object(o["c"])("div",a,[u,Object(o["l"])(Object(o["f"])("div",null,[i,Object(o["f"])("input",{class:"btn",type:"button",id:"get-file",value:"Choose a file",onClick:t[1]||(t[1]=function(){return d.chooseFile.apply(d,arguments)})}),Object(o["f"])("input",{type:"file",id:"my-file",onChange:t[2]||(t[2]=function(){return d.prevImg.apply(d,arguments)}),accept:"image/*",hidden:""},null,32),l],512),[[o["j"],!c.start&!c.img]]),Object(o["f"])(o["a"],{name:"fade-in"},{default:Object(o["k"])((function(){return[c.start?(Object(o["g"])(),Object(o["c"])("div",s,[Object(o["f"])(b,{value:c.uploadValue},null,8,["value"])])):Object(o["d"])("",!0)]})),_:1}),Object(o["f"])(o["a"],{name:"fade-in"},{default:Object(o["k"])((function(){return[c.img?(Object(o["g"])(),Object(o["c"])("div",f,[Object(o["f"])(h,{src:c.picture},null,8,["src"])])):Object(o["d"])("",!0)]})),_:1}),p])}n("b0c0");var b=n("2591"),h={id:"image"},g=Object(o["f"])("h2",null,"Upload Successful",-1),m=Object(o["f"])("a",{href:""},null,-1),j=Object(o["f"])("br",null,null,-1),v=Object(o["e"])("Copy The Code "),O={class:"copied"};function y(e,t,n,r,c,a){return Object(o["g"])(),Object(o["c"])("div",h,[g,Object(o["f"])("a",{class:"link",target:"_blank",href:n.src},"Image Link",8,["href"]),m,Object(o["f"])("button",{onClick:t[1]||(t[1]=function(){return a.shorter.apply(a,arguments)})},"Get Short URL"),j,Object(o["l"])(Object(o["f"])("input",{class:"copy",type:"text",value:c.urlShare,id:"copyCode"},null,8,["value"]),[[o["j"],c.showShort]]),Object(o["l"])(Object(o["f"])("span",{onClick:t[2]||(t[2]=Object(o["m"])((function(){return a.copyURL.apply(a,arguments)}),["prevent"]))},[v,Object(o["l"])(Object(o["f"])("p",O,"Code copied!",512),[[o["j"],c.copied]])],512),[[o["j"],c.showShort]]),Object(o["f"])("a",{target:"_blank",href:c.urlShare},[Object(o["f"])("img",{src:n.src,alt:"Uploaded Picture"},null,8,["src"])],8,["href"])])}var w=n("5c6b"),k={name:"Image",props:["src"],data:function(){return{urlShare:null,showShort:!1,copied:!1}},methods:{shorter:function(){var e=this;w.short(this.src,(function(t,n){e.urlShare=n,console.log(e.urlShare)})),this.showShort=!0},copyURL:function(){var e=this,t=document.querySelector("#copyCode");t.setAttribute("type","text"),t.select();try{var n=document.execCommand("copy"),r=n?"successful":"unsuccessful";console.log(r),this.copied=!0,setTimeout((function(){e.copied=!1}),3e3)}catch(o){alert("Oops, unable to copy")}}}};n("9937");k.render=y;var S=k,x={id:"progress"},P=Object(o["f"])("p",null,"Uploading... Please wait.",-1);function C(e,t,n,r,c,a){return Object(o["g"])(),Object(o["c"])("div",x,[P,Object(o["f"])("progress",{max:"100",value:n.value},null,8,["value"]),Object(o["f"])("p",null,Object(o["i"])(Math.floor(n.value))+"%",1)])}var R={name:"Progress",props:["value"],components:{},data:function(){return{}}};n("02b0");R.render=C;var U=R,F=n("11c1"),_={name:"Home",components:{Progress:U,Image:S},data:function(){return{selectedFile:null,start:!1,img:!1,picture:null,images:[],uploadValue:0}},methods:{chooseFile:function(){document.querySelector("#my-file").click()},onFileSelect:function(e){this.selectedFile=e.target.files[0]},prevImg:function(){this.uploadValue=0,this.picture=null,this.selectedFile=event.target.files[0],this.onUpload(this.selectedFile)},onUpload:function(e){var t=this;console.log(e),this.start=!0;var n=b["a"].storage().ref(" ".concat(this.selectedFile.name," ")).put(this.selectedFile);n.on("state_changed",(function(e){t.uploadValue=e.bytesTransferred/e.totalBytes*100,console.log(t.uploadValue)}),(function(e){console.log(e.message+"ERROR!")}),(function(){t.start=!1,t.img=!0,n.snapshot.ref.getDownloadURL().then((function(e){t.picture=e}))}))},afterComplete:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,o,c,a,u,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=F.v1(),t.isLoading=!0,n.prev=2,o=e,c={contentType:"image/png"},a=b["a"].storage().ref(),u=a.child("images/".concat(r,".png")),n.next=9,u.put(o,c);case 9:return n.next=11,u.getDownloadURL();case 11:i=n.sent,t.images.push({src:i}),t.uploadValue=100,n.next=19;break;case 16:n.prev=16,n.t0=n["catch"](2),console.log(n.t0);case 19:case"end":return n.stop()}}),n,null,[[2,16]])})))()}}};n("4e9e");_.render=d;var I=_,L={name:"App",components:{Home:I}};n("64be");L.render=c;var T=L;function A(){return V.apply(this,arguments)}function V(){return V=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(b["a"].firestore){e.next=3;break}return e.next=3,n.e("chunk-2d225f3d").then(n.bind(null,"e71f"));case 3:return e.abrupt("return",b["a"].firestore());case 4:case"end":return e.stop()}}),e)}))),V.apply(this,arguments)}var E={apiKey:"AIzaSyABmL3Ko7YZKogXTFEJz42iD31KTp4yj5s",authDomain:"foto-share-b7456.firebaseapp.com",databaseURL:"https://foto-share-b7456.firebaseio.com",projectId:"foto-share-b7456",storageBucket:"foto-share-b7456.appspot.com",messagingSenderId:"752423214389",appId:"1:752423214389:web:47d5f5cadedfb41109007c"};b["a"].initializeApp(E),Object(o["b"])(T).mount("#app")},"5bb2":function(e,t,n){},6:function(e,t){},"64be":function(e,t,n){"use strict";n("c894")},7:function(e,t){},8:function(e,t){},"89e0":function(e,t,n){},9:function(e,t){},9937:function(e,t,n){"use strict";n("89e0")},c894:function(e,t,n){}});
//# sourceMappingURL=app-legacy.5398e2fe.js.map